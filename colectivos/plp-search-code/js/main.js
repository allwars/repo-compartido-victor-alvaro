/**
 * Vodafone Reboot Framework: Version 2.15.0. Generation Date: 2021-06-25T08:45:51.645Z
 */

!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),performance&&performance.mark&&performance.mark("micro exec");var o,r,c=document.querySelector("link[data-ws10-microcss]"),a=function(e,t,n){var o=null;for(;e;){if(e.matches(t)){o=e;break}if(n&&e.matches(n))break;e=e.parentElement}return o}(document.querySelector("#plp-search-code"),"[data-ws10-microsite]"),s=a?a.dataset.pathmicrosite:"",l=document.documentElement.clientWidth,i=l>1024,d=l<=1024&&l>=768,u=l<768;function m(){y.cssLoaded||(document.querySelector("#plp-search-code")&&document.querySelector("#plp-search-code").removeAttribute("style"),y.cssLoaded=!0,y.onStylesReady(),performance&&performance.mark&&performance.mark("micro css ready"))}function f(){document.removeEventListener("ws10:frameworkReady",f),window.ws10.utils.init(document.querySelector("#plp-search-code")),y.onFrameworkReady(),performance&&performance.mark&&(performance.mark("micro js ready"),console.timeEnd("microsite instantiation"))}function p(){var e=document.styleSheets,t=0;return[].forEach.call(e,(function(e){var n=e.href||"";-1!==n.indexOf(s+"css/ws10")&&(console.log("WS10 CSS Loaded"),t++),-1!==n.indexOf(s+"css/styles.css")&&(console.log("MICRO CSS Loaded"),t++)})),2===t}p()?p()&&setTimeout(m,100):c?(o=setInterval((function(){c.sheet.rules&&c.sheet.rules.length>0&&(clearInterval(o),clearTimeout(r),m())}),100),r=setTimeout((function(){console.warn("Microsite visible by 3s timeout"),clearInterval(o),clearTimeout(r),m()}),3e3)):setTimeout(m,100),window.ws10?setTimeout(f,100):document.addEventListener("ws10:frameworkReady",f);var y={isDesktop:i,isTablet:d,isMobile:u,micrositeId:"#plp-search-code",micrositePath:s,init:function(){},cssLoaded:!1,onStylesReady:function(){return null},onFrameworkReady:function(){return null}},v=y;v.onStylesReady=function(){console.log("Site visually ready")},v.onFrameworkReady=function(){console.log("Site functionality ready");document.querySelector(".js-form");var e=document.getElementById("searchCode"),t=document.querySelector(".vfms-button__search"),n=document.querySelector(".vfms-button__understood"),o=document.querySelector('[data-vfes-js="_modal"]'),r=(document.getElementById("codeFind"),document.getElementById("noFoundCode"),new ws10.backdrop({$element:o}),document.querySelector(".vfms-text-clean")),c="",a=document.getElementById("company-selected"),s=document.querySelector('[data-js-vf="vfms-close"]');r.addEventListener("click",(function(){t.disabled=!0})),t.addEventListener("click",(function(t){t.preventDefault();var n=e.value.toUpperCase();fetch("https://www.vodafone.es/c/srv/vf-back-trastienda/api/urlCode/getInfoByCode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})}).then((function(e){return e.json()})).then((function(e){console.log("json-",e.existsCode);var t=e.existsCode;if(c=e.company,!0===t){a.innerHTML=c,checkPopUp("valido");var n=document.querySelector("#modalok");ws10.utils.getInstanceForElement(n).openBackdrop(n.querySelector("#search-result"))}else{checkPopUp("invalido");var o=document.querySelector("#modalko");ws10.utils.getInstanceForElement(o).openBackdrop(o.querySelector("#search-result"))}}))})),n.addEventListener("click",(function(e){e.preventDefault(),s.click()}));var l=document.querySelector('[data-js-vf="error-text"]');function i(){l.classList.remove("ws10-u--hidden"),e.classList.add("ws10-c-text-field__input--error")}function d(){l.classList.add("ws10-u--hidden"),e.classList.remove("ws10-c-text-field__input--error")}e.addEventListener("keypress",(function(n){return o=n.target.value+n.key,r=o,c=e.value,a=c.charAt(11),console.log("hyphen",a),1,console.log("input-current",r),console.log("input",c.length),1===c.length&&"VF"!=r?i():d(),2===c.length&&"VF-"!=r?i():d(),void(16===e.value.length?t.disabled=!1:t.disabled=!0);var o,r,c,a})),e.addEventListener("keyup",(function(n){8===n.keyCode&&16===e.value.length||16===e.value.length?t.disabled=!1:t.disabled=!0;var o=e.value.toUpperCase();!1===t.disabled?t.setAttribute("data-analytics-code",o):t.setAttribute("data-analytics-code","")}))}}]);